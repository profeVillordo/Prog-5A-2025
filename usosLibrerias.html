<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="jquery.js"></script>
    <style>
        .formulario {
            background-color: #5ae6c7;
            padding: 20px;
            border-radius: 5px;
            width: 300px;
            margin: auto;
        }

        h1, h2 {
            text-align: center;
        }
        input{
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        button {
            background-color: rgba(203, 197, 45, 1);
            color: rgb(27, 15, 196);
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        /* la clase contenedor, teniendo presente que una clase comienza con un punto, y que la clase tiene un conjunto de atributos y propiedades que se pueden asignar a distintos elementos del HTML. Dentro de la clase tenemos display:flex que permite organizar elementos de manera flexible y eficiente en una dimensión (fila o columna).
        justify-content:center, permite justificar hacie el centro el contenido, y algn-items:center, indica que los elementos se centraran, el height: 50vh, permite crear una ventana de 50% en modo vertical-horizontal del tamaño de la pantalla que es donde se mostrará la el contenido asignada(en este caso la tabla, ) */
        .contenedor {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 50vh;
            background-color: #f0f0f0;
            width: 90%;
    margin: 0 auto; /* Centra el contenedor */
    max-height: 400px; /* Altura máxima */
    overflow-y: auto; /* Scroll vertical cuando sea necesario */
    border: 1px solid #ddd;
        }
         .table tr td {
            padding: 10px;
            border: 1px solid #ccc;
            border-collapse: collapse;
        }
        .error-message {
            color: red;
            font-size: 0.9em;
        }
        footer {
            text-align: center;
            margin-top: 20px;
        }

    </style>
</head>
<body>
    <header>
        <h1>Utilizando libreria Jquery</h1>
    </header>
    <section>
        <h2>Mi Subtitulo</h2>
        <form class="formulario" target="_blank" id="myForm" method="get" action="procesaDatos.html">
            <label for="nombre">Nombre:</label>
            <input type="text" id="nombre" name="nombre"><br>
            <label for="">Apellido</label><input type="text" id="apellido" name="apellido"><br>
            <label for="">Edad</label><input type="text" id="edad" name="edad"><br>
            <label for="">Sexo</label><input type="text" id="sexo" name="sexo"><br>
            <label for="">Telefono</label><input type="text" id="telefono" name="telefono"><br>
            <label for="">Email</label><input type="text" id="email" name="email"><br>
            <!--<input type="submit" value="Enviar">-->
            <button onclick="verdatos()" type="button">Enviar</button>
            <input type="reset" value="Borrar"><br>

        </form>
        <br><hr>
         <h2>Mis Datos</h2><br>
        <div class="contenedor">
           
        <table id="misDatos" border="1">
            <tr>
                <th colspan="6">Tabla de Datos</th>
            <tr  >
                <th>Nombre</th>
                <th>Apellido</th>
                <th>Edad</th>
                <th>Sexo</th>
                <th>Telefono</th>
                <th>Email</th>
            </tr>
                     

        </table>
    </div>


     <!--Un formulario es un contenedor donde puede agregar entradas de datos de distintos tipos(INPUT, SELECT, CHECKBOK, RADIOBUTTON, etc)
     El formulario debe tener un atributo ACTION que indica la URL a la que se enviaran los datos y el metodo de envio (GET o POST)
     El formulario puede tener un atributo METHOD que indica el metodo de envio (GET o POST).
        El formulario puede tener un atributo NAME que indica el nombre del formulario.
        El formulario puede tener un atributo ID que indica el id del formulario.
        El formulario puede tener un atributo CLASS que indica la clase del formulario.
        El formulario puede tener un atributo TARGET que indica la ventana o marco donde se enviaran los datos.
        El formulario puede tener un atributo ENCTYPE que indica el tipo de codificacion de los datos que se enviaran.     
     -->
    
    
    </section>
    <footer>
        <p>Contacto: <i>
    </footer>
    
</body>
</html>
<script>
    function verdatos(){
        // creamos una variable de tipo booleano, es decir que puede ser verdadero o falso, el cual llamaos isValid

        let isValid = true;
    
    // Validar nombre (no vacío), con val()capturamos el valor, y con trim() eliminamos los espacios en blanco al inicio y al final
    // Si el valor es vacío, agregamos un mensaje de error debajo del campo, la funcion after agrega contenido HTML después del elemento seleccionado
    if ($("#nombre").val().trim() === "") {
        $("#nombre").after("<span class='error-message' style='color:red'>El nombre es obligatorio</span>");
        isValid = false;
    }

    if ($("#apellido").val().trim() === "") {
        $("#apellido").after("<span class='error-message' style='color:red'>El apellido es obligatorio</span>");
        isValid = false;
    }
    const edad = $("#edad").val().trim();

    // Validar edad (debe ser un número entre 18 y 120), la funcion isNaN(edad) verifica si el valor no es un número, y la condicion edad < 18 || edad > 120 verifica si el valor esta fuera del rango y con trim() eliminamos los espacios en blanco al inicio y al final, y los operadores lógicos || (OR) y && (AND) se utilizan para combinar condiciones
    if (edad === "" || isNaN(edad) || edad < 18 || edad > 120) {
        $("#edad").after("<span class='error-message' style='color:red'>La edad debe ser un número entre 18 y 120</span>");
        isValid = false;
    }

    const sexo = $("#sexo").val().trim();
    // Validar sexo (debe ser "M" o "F"), la funcion trim() elimina los espacios en blanco al inicio y al final, y la condicion sexo !== "M" && sexo !== "F" verifica si el valor no es "M" o "F", recordar que !== significa "distinto"
    if (sexo === "" || (sexo !== "M" && sexo !== "F")) {
        $("#sexo").after("<span class='error-message' style='color:red'>Ingrese un valor correcto </span>");
        isValid = false;
    }

    const telefono = $("#telefono").val().trim();
        if (telefono === "" || isNaN(telefono) ) {
            $("#telefono").after("<span class='error-message' style='color:red'>Ingrese un valor correcto </span>");
            isValid = false;
        }
    const email= $("#email").val().trim();
// Validar email (debe contener "@" y "."), la funcion includes() verifica si el valor contiene un caracter especifico, y la condicion email === "" || !email.includes("@") || !email.includes(".") verifica si el valor es vacío o no contiene "@" o ".", y con trim() eliminamos los espacios en blanco al inicio y al final
    if(email === "" || !email.includes("@") || !email.includes(".")){
        $("#email").after("<span class='error-message' style='color:red'>Ingrese un valor correcto </span>");
        isValid = false;
    }
// Si no hay errores, agregamos los datos a la tabla, con append() agregamos contenido HTML al final del elemento seleccionado, y con trigger("reset") reiniciamos el formulario, la condicion if(isValid) verifica si la variable isValid es verdadera, es decir, si no hay errores en la validación, teniendo presente que !isValid significa "no es válido" o "hay errores en la validación"
    if (!isValid) {
        return; // Detener la ejecución si hay errores
    }
    $("#misDatos").append("<tr><td>" + $("#nombre").val() + "</td><td>" + $("#apellido").val() + "</td><td>" + $("#edad").val() + "</td><td>" + $("#sexo").val() + "</td><td>" + $("#telefono").val() + "</td><td>" + $("#email").val() + "</td></tr>");
    $("#myForm").trigger("reset");


       
    }
</script>